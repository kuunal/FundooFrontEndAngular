<button mat-icon-button type="button" [matMenuTriggerFor]="menu">
  <mat-icon>
    <img
      src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiB2ZXJzaW9uPSIxLjEiIHk9IjBweCIgeD0iMHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE4IDE4IiAgZmlsbD0iIzAwMCI+CiAgPHBhdGggZD0ibTkgNS41YzEgMCAxLjgtMC44IDEuOC0xLjhzLTAuOC0xLjctMS44LTEuNy0xLjggMC44LTEuOCAxLjggMC44IDEuNyAxLjggMS43em0wIDEuN2MtMSAwLTEuOCAwLjgtMS44IDEuOHMwLjggMS44IDEuOCAxLjggMS44LTAuOCAxLjgtMS44LTAuOC0xLjgtMS44LTEuOHptMCA1LjNjLTEgMC0xLjggMC44LTEuOCAxLjhzMC44IDEuNyAxLjggMS43IDEuOC0wLjggMS44LTEuOC0wLjgtMS43LTEuOC0xLjd6Ii8+Cjwvc3ZnPgo="
      alt="more"
    />
  </mat-icon>
</button>
<mat-menu #menu="matMenu">
  <button mat-menu-item (click)="delete()">Delete</button>
  <button mat-menu-item [matMenuTriggerFor]="subMenu">Label</button>
</mat-menu>

<mat-menu #subMenu="matMenu" [hasBackdrop]="false">
  <ng-template matMenuContent>
    <form [formGroup]="labelForm" class="labelForm">
      <div class="searchLabel" (click)="$event.stopPropagation()">
        <input type="text" matInput formControlName="label" />
      </div>
    </form>
    <div class="labels" *ngFor="let labelItem of labels; index as index">
      <div class="label" *ngIf="checkLabelSearched(labelItem, index)">
        <input
          type="checkbox"
          name=""
          id=""
          [checked]="checkIfLabelExists(labelItem, index)"
          (click)="addLabelToNote(labelItem)"
        />
        {{ labelItem.label }}
      </div>
    </div>
    <button mat-icon-button *ngIf="!isFound" (click)="addLabel()">
      <mat-icon> add </mat-icon>
    </button>
  </ng-template>
</mat-menu>
