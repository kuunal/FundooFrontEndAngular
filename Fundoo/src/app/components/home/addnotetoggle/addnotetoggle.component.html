<form
  class="container"
  [formGroup]="noteForm"
  (blur)="isFocused = false"
  tabindex="-1"
  *ngIf="isFocused; else notebar"
  (ngSubmit)="submit()"
>
  <mat-card>
    <mat-card-title>
      <textarea
        matInput
        cdkTextareaAutosize
        #autosize="cdkTextareaAutosize"
        cdkAutosizeMinRows="1"
        cdkAutosizeMaxRows="5"
        placeholder="Title"
        class="title"
        formControlName="title"
      ></textarea>
      <app-pin-component
        (click)="togglePin()"
        [isPined]="isPined"
      ></app-pin-component>
    </mat-card-title>
    <mat-card-content>
      <textarea
        matInput
        cdkTextareaAutosize
        #autosize="cdkTextareaAutosize"
        cdkAutosizeMinRows="1"
        cdkAutosizeMaxRows="5"
        placeholder="Take a note..."
        formControlName="description"
      ></textarea>
    </mat-card-content>
    <mat-card-actions>
      <div class="actions__left">
        <app-remainder-icon-component></app-remainder-icon-component>
        <app-add-collaborator-component></app-add-collaborator-component>
        <app-paint-component></app-paint-component>
        <app-picture-component></app-picture-component>
        <app-archieve-component></app-archieve-component>
        <app-more-component></app-more-component>
        <app-undo-component></app-undo-component>
        <app-redo-component></app-redo-component>
      </div>
      <div class="actions-right">
        <app-close-component></app-close-component>
      </div>
    </mat-card-actions>
  </mat-card>
</form>

<ng-template #notebar>
  <app-addnotes (click)="isFocused = true"></app-addnotes>
</ng-template>
